<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DigiMind - Digital Psychological Intervention</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <h1 class="logo">ğŸ§  DigiMind</h1>
            <nav class="nav" id="mainNav" style="display: none;">
                <button class="nav-btn" onclick="showSection('dashboard')">ğŸ  Home</button>
                <button class="nav-btn" onclick="showSection('assessment')">ğŸ“‹ Assessment</button>
                <button class="nav-btn" onclick="showSection('wellness')">ğŸŒ± Wellness</button>
                <button class="nav-btn" onclick="showSection('bookings')">ğŸ“… Bookings</button>
                <button class="nav-btn" onclick="showSection('reports')">ğŸ“Š Reports</button>
                <button class="nav-btn" id="adminNavBtn" onclick="showSection('admin')" style="display: none;">ğŸ‘¨â€ğŸ’¼ Admin</button>
                <button class="nav-btn logout-btn" onclick="logout()">ğŸšª Logout</button>
            </nav>
        </div>
    </header>

    <!-- SOS Floating Button -->
    <button class="sos-btn" onclick="openSOS()" title="Emergency Help">ğŸ†˜</button>

    <!-- Main Content -->
    <main class="main">
        <!-- Login/Signup Section -->
        <section id="auth" class="section active">
            <div class="container">
                <div class="auth-container">
                    <div class="auth-form">
                        <h2 id="authTitle">Welcome to DigiMind ğŸŒŸ</h2>
                        <p class="auth-subtitle">Your mental wellness companion</p>
                        
                        <form id="authForm">
                            <div class="form-group">
                                <input type="email" id="email" placeholder="Email" required>
                            </div>
                            <div class="form-group">
                                <input type="password" id="password" placeholder="Password" required>
                            </div>
                            <div class="form-group" id="roleGroup" style="display: none;">
                                <select id="role" required>
                                    <option value="">Select Role</option>
                                    <option value="student">ğŸ‘¨â€ğŸ“ Student</option>
                                    <option value="counsellor">ğŸ‘¨â€âš•ï¸ Counsellor</option>
                                    <option value="admin">ğŸ‘¨â€ğŸ’¼ Admin</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary" id="authBtn">Login ğŸ”‘</button>
                        </form>
                        
                        <p class="auth-switch">
                            <span id="authSwitchText">Don't have an account?</span>
                            <button type="button" class="link-btn" onclick="toggleAuthMode()">Sign Up</button>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard" class="section">
            <div class="container">
                <div class="welcome-banner">
                    <h2 id="welcomeMessage">Welcome back! ğŸŒˆ</h2>
                    <p id="streakCounter">Daily streak: 0 days ğŸ”¥</p>
                </div>
                <div class="dashboard-content">
                    <!-- Role-specific content will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Admin Section -->
        <section id="admin" class="section">
            <div class="container">
                <h2>Admin Dashboard ğŸ‘¨â€ğŸ’¼</h2>
                <div class="admin-panel">
                    <div class="admin-nav">
                        <button class="admin-nav-btn active" onclick="showAdminTab('counsellors')">Manage Counsellors</button>
                        <button class="admin-nav-btn" onclick="showAdminTab('students')">Manage Students</button>
                        <button class="admin-nav-btn" onclick="showAdminTab('bookings')">All Bookings</button>
                        <button class="admin-nav-btn" onclick="showAdminTab('reports')">System Reports</button>
                    </div>
                    <div class="admin-content" id="adminContent">
                        <!-- Admin content will be loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Counsellor Section -->
        <section id="counsellor" class="section">
            <div class="container">
                <h2>Counsellor Dashboard ğŸ‘¨â€âš•ï¸</h2>
                <div class="counsellor-panel">
                    <div class="appointments-section">
                        <h3>Today's Appointments</h3>
                        <div id="todayAppointments">
                            <!-- Appointments will be loaded here -->
                        </div>
                    </div>
                    <div class="patients-section">
                        <h3>Patient Overview</h3>
                        <div id="patientOverview">
                            <!-- Patient stats will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Student Dashboard -->
        <section id="student" class="section">
            <div class="container">
                <h2>Student Dashboard ğŸ‘¨â€ğŸ“</h2>
                <!-- Mood Check-in -->
                <div class="card mood-card">
                    <h3>How are you feeling today? ğŸ˜Š</h3>
                    <div class="mood-selector" id="moodSelector">
                        <button class="mood-btn" onclick="selectMood('happy')" data-mood="happy">ğŸ˜ƒ</button>
                        <button class="mood-btn" onclick="selectMood('neutral')" data-mood="neutral">ğŸ˜</button>
                        <button class="mood-btn" onclick="selectMood('sad')" data-mood="sad">ğŸ˜¢</button>
                        <button class="mood-btn" onclick="selectMood('angry')" data-mood="angry">ğŸ˜¡</button>
                    </div>
                    <p id="moodStatus"></p>
                </div>

                <!-- Progress Section -->
                <div class="card progress-card">
                    <h3>Your Progress ğŸ“ˆ</h3>
                    <div id="studentProgress">
                        <!-- Progress will be loaded here -->
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-links">
                    <button class="quick-link-btn" onclick="showSection('assessment')">
                        ğŸ“‹ Take Assessment
                    </button>
                    <button class="quick-link-btn" onclick="showSection('wellness')">
                        ğŸŒ± Wellness Activities
                    </button>
                    <button class="quick-link-btn" onclick="showSection('bookings')">
                        ğŸ“… Book Counselling
                    </button>
                    <button class="quick-link-btn" onclick="showSection('reports')">
                        ğŸ“Š My Reports
                    </button>
                </div>
            </div>
        </section>

        <!-- Self-Assessment Section -->
        <section id="assessment" class="section">
            <div class="container">
                <div class="card">
                    <h2>Stress Level Assessment ğŸ“‹</h2>
                    <p>Please answer the following questions honestly to assess your current stress level.</p>
                    
                    <form id="assessmentForm">
                        <div class="question">
                            <p>1. How often have you felt overwhelmed in the past week?</p>
                            <div class="radio-group">
                                <label><input type="radio" name="q1" value="1"> Never</label>
                                <label><input type="radio" name="q1" value="2"> Rarely</label>
                                <label><input type="radio" name="q1" value="3"> Sometimes</label>
                                <label><input type="radio" name="q1" value="4"> Often</label>
                                <label><input type="radio" name="q1" value="5"> Always</label>
                            </div>
                        </div>

                        <div class="question">
                            <p>2. How would you rate your sleep quality recently?</p>
                            <div class="radio-group">
                                <label><input type="radio" name="q2" value="1"> Excellent</label>
                                <label><input type="radio" name="q2" value="2"> Good</label>
                                <label><input type="radio" name="q2" value="3"> Average</label>
                                <label><input type="radio" name="q2" value="4"> Poor</label>
                                <label><input type="radio" name="q2" value="5"> Very Poor</label>
                            </div>
                        </div>

                        <div class="question">
                            <p>3. How often do you feel anxious or worried?</p>
                            <div class="radio-group">
                                <label><input type="radio" name="q3" value="1"> Never</label>
                                <label><input type="radio" name="q3" value="2"> Rarely</label>
                                <label><input type="radio" name="q3" value="3"> Sometimes</label>
                                <label><input type="radio" name="q3" value="4"> Often</label>
                                <label><input type="radio" name="q3" value="5"> Always</label>
                            </div>
                        </div>

                        <div class="question">
                            <p>4. How difficult is it for you to concentrate on tasks?</p>
                            <div class="radio-group">
                                <label><input type="radio" name="q4" value="1"> Very Easy</label>
                                <label><input type="radio" name="q4" value="2"> Easy</label>
                                <label><input type="radio" name="q4" value="3"> Moderate</label>
                                <label><input type="radio" name="q4" value="4"> Difficult</label>
                                <label><input type="radio" name="q4" value="5"> Very Difficult</label>
                            </div>
                        </div>

                        <div class="question">
                            <p>5. How often do you feel irritable or easily frustrated?</p>
                            <div class="radio-group">
                                <label><input type="radio" name="q5" value="1"> Never</label>
                                <label><input type="radio" name="q5" value="2"> Rarely</label>
                                <label><input type="radio" name="q5" value="3"> Sometimes</label>
                                <label><input type="radio" name="q5" value="4"> Often</label>
                                <label><input type="radio" name="q5" value="5"> Always</label>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary">Submit Assessment ğŸ“Š</button>
                    </form>

                    <div id="assessmentResult" class="assessment-result" style="display: none;">
                        <!-- Results will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Wellness Hub Section -->
        <section id="wellness" class="section">
            <div class="container">
                <h2>Wellness Hub ğŸŒ±</h2>
                
                <div class="wellness-activities">
                    <!-- Breathing Exercise -->
                    <div class="card activity-card">
                        <h3>Breathing Exercise ğŸ«</h3>
                        <p>Take a moment to breathe and relax</p>
                        <div class="breathing-container">
                            <div class="breathing-circle" id="breathingCircle">
                                <span id="breathingText">Click to Start</span>
                            </div>
                        </div>
                        <button id="breathingBtn" class="btn btn-secondary" onclick="startBreathing()">Start ğŸŒ¬ï¸</button>
                    </div>

                    <!-- Journaling -->
                    <div class="card activity-card">
                        <h3>Daily Journal ğŸ“</h3>
                        <p>Write down your thoughts and feelings</p>
                        <textarea id="journalEntry" placeholder="How was your day? What are you grateful for?" rows="6"></textarea>
                        <button class="btn btn-secondary" onclick="saveJournal()">Save Entry ğŸ’¾</button>
                        <div id="journalSaved" class="success-message" style="display: none;">Journal saved! ğŸ‰</div>
                    </div>

                    <!-- Music Suggestions -->
                    <div class="card activity-card">
                        <h3>Calming Music ğŸµ</h3>
                        <p>Listen to some relaxing tunes</p>
                        <div id="musicSuggestions">
                            <!-- Music suggestions will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Mindfulness Activities -->
                    <div class="card activity-card">
                        <h3>Mindfulness Activities ğŸ§˜</h3>
                        <p>Practice mindfulness and grounding exercises</p>
                        <div id="mindfulnessActivities">
                            <!-- Mindfulness activities will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Wellness Tips -->
                    <div class="card activity-card">
                        <h3>Daily Wellness Tips ğŸ’¡</h3>
                        <p>Helpful tips for mental wellness</p>
                        <div id="wellnessTips">
                            <!-- Wellness tips will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bookings Section -->
        <section id="bookings" class="section">
            <div class="container">
                <h2>Book a Session ğŸ“…</h2>
                
                <div class="counsellors-grid" id="counsellorsGrid">
                    <!-- Counsellors will be populated by JavaScript -->
                </div>

                <div class="my-bookings">
                    <h3>My Bookings ğŸ“‹</h3>
                    <div id="myBookings">
                        <!-- User's bookings will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Reports Section -->
        <section id="reports" class="section">
            <div class="container">
                <h2>Your Reports ğŸ“Š</h2>
                
                <div class="reports-grid">
                    <div class="card report-card">
                        <h3>Mood History ğŸ˜Š</h3>
                        <div id="moodHistoryChart">
                            <!-- Mood history chart will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="card report-card">
                        <h3>Assessment Summary ğŸ“‹</h3>
                        <div id="assessmentSummary">
                            <!-- Assessment summary will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="card report-card">
                        <h3>Activity Summary ğŸŒ±</h3>
                        <div id="activitySummary">
                            <!-- Activity summary will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="card report-card">
                        <h3>Data Export ğŸ“„</h3>
                        <div id="dataExport">
                            <!-- Data export will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <button class="btn btn-secondary" onclick="exportData()">Export Data ğŸ“„</button>
            </div>
        </section>
    </main>

    <!-- SOS Modal -->
    <div id="sosModal" class="modal">
        <div class="modal-content">
            <h2>Emergency Support ğŸ†˜</h2>
            
            <div class="sos-breathing">
                <h3>Quick Breathing Exercise ğŸ«</h3>
                <div class="breathing-circle small" id="sosBreathingCircle">
                    <span id="sosBreathingText">Take a Deep Breath</span>
                </div>
                <button id="sosBreathingBtn" class="btn btn-primary" onclick="startSOSBreathing()">Start Breathing</button>
                <div class="countdown-timer" id="sosCountdown" style="display: none;">
                    <p>Session time remaining: <span id="countdownDisplay">5:00</span></p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="countdownProgress"></div>
                    </div>
                </div>
            </div>

            <div class="helplines">
                <h3>Emergency Helplines ğŸ“</h3>
                <div class="helpline">
                    <strong>National Mental Health Helpline (India)</strong>
                    <p>ğŸ“ 1800-599-0019 (Toll Free)</p>
                </div>
                <div class="helpline">
                    <strong>KIRAN Mental Health Helpline</strong>
                    <p>ğŸ“ 1800-599-0019</p>
                </div>
                <div class="helpline">
                    <strong>Vandrevala Foundation Helpline</strong>
                    <p>ğŸ“ 9999 666 555</p>
                </div>
                <div class="helpline">
                    <strong>Sneha India Foundation</strong>
                    <p>ğŸ“ 044-2464 0050 (Chennai)</p>
                </div>
                <div class="helpline">
                    <strong>Coimbatore Samaritans</strong>
                    <p>ğŸ“ 0422-2342343</p>
                </div>
                <div class="helpline">
                    <strong>Emergency Services</strong>
                    <p>ğŸ“ 112 (National Emergency Number)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Confetti Container -->
    <div id="confetti" class="confetti-container"></div>

    <script src="utils.js"></script>
    <script src="script.js"></script>
</body>
</html>